import{ahoi as c,EVisualizationType as m}from"../web_modules/@visahoi/plotly.js";function y(){Plotly.d3.csv("./data/oslo-2018.csv",function(n){const{x:o,y:a}=u(n);h(o,a).then(s=>{c(m.HORIZON_GRAPH,s,"onboarding")})})}function u(n){const o=[],a=[],s=[],t=[];for(let l=0;l<n.length;l++){const e=n[l],i=`${e.year}-${e.month}`;if(s.push(`${e.year}-${e.month}-${e.day}`),t.push(e.temp),o.includes(i)){const r=o.indexOf(i);a[r].push(parseFloat(e.temp))}else o.push(`${e.year}-${e.month}`),a.push([parseFloat(e.temp)])}const p=a.map(l=>{const e=l.reduce((i,r)=>i+r,0);return e/l.length});return{x:o,y:p}}function h(n,o){document.getElementById("plot");const a=[{name:"Between 0 and 15 째C",type:"scatter",x:n,y:o.map(t=>t<0?0:t>15?15:t),fill:"tozeroy",fillcolor:"rgba(161, 215, 106, 0.6)",mode:"none",line:{shape:"spline",smoothing:.25},hovertemplate:"%{y:.2f}"},{name:"More than 15 째C",type:"scatter",x:n,y:o.map(t=>t>15?t-15:0),fill:"tozeroy",fillcolor:"rgba(161, 215, 106, 1)",mode:"none",line:{shape:"spline",smoothing:.25},hovertemplate:"%{y:.2f}"},{name:"Less than 0 째C",type:"scatter",x:n,y:o.map(t=>t<0?t*-1:0),fill:"tozeroy",fillcolor:"rgba(5, 113, 176, 1)",mode:"none",line:{shape:"spline",smoothing:.25},hovertemplate:"-%{y:.2f}"}],s={title:"Average temperature in Oslo, Norway in 2018",xaxis:{title:"Month",tickformat:"%m",nticks:12},yaxis:{title:"Average temperature in 째C"},showlegend:!1};return Plotly.newPlot("vis",a,s)}y();
