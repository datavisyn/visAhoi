import{ahoi as i,EVisualizationType as c}from"../web_modules/@visahoi/plotly.js";async function r(){const a=await fetch("./data/matrix.json"),e=await a.json(),{x:n,y:s,z:o}=p(e),t=await u(n,s,o);window.addEventListener("resize",()=>setTimeout(()=>i(c.CHANGE_MATRIX,t,"#onboarding"),100)),i(c.CHANGE_MATRIX,t,"#onboarding")}function p(a){const e=new Map();a.forEach(t=>{e.has(t.a)?e.set(t.a,[...e.get(t.a),t]):e.set(t.a,[t])});const n=new Set(a.map(t=>t.b)),s=[...e.keys()],o=[...e.values()].map(t=>[...t.map(l=>l.c)]);return{x:n,y:s,z:o}}function u(a,e,n){document.getElementById("plot");const s=[{type:"heatmap",x:a,y:e,z:n,zmin:-9,zmax:9,colorscale:[[0,"#4682b4"],[.5,"#FDFDFD"],[1,"#D2B48C"]],colorbar:{title:{text:"Value Change"}}}],o={title:"Average temperature change in Â°C between 1990 and 1991",xaxis:{title:"Month"},yaxis:{title:"City"}},t={responsive:!0};return Plotly.newPlot("vis",s,o,t)}r();
