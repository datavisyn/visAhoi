import{onboarding as r}from"../web_modules/onboarding-plotly.js";function c(){Plotly.d3.json("./data/matrix.json",function(e){const{x:n,y:a,z:o}=y(e);d(n,a,o).then(s=>{r("change-matrix",s)})})}function y(e){const n=Plotly.d3.nest().key(t=>t.b).sortKeys(Plotly.d3.ascending).entries(e),a=n.map(t=>t.key),o=Plotly.d3.nest().key(t=>t.a).sortKeys(Plotly.d3.descending).sortValues((t,l)=>parseFloat(t.b)-parseFloat(l.b)).entries(e),s=o.map(t=>t.key),i=o.map(t=>t.values.map(l=>l.c));return{x:a,y:s,z:i}}function d(e,n,a){document.getElementById("plot");const o=[{type:"heatmap",x:e,y:n,z:a,zmin:-9,zmax:9,colorscale:[[0,"#4682b4"],[.5,"#FDFDFD"],[1,"#D2B48C"]],colorbar:{title:{text:"Value Change"}}}],s={title:"Average temperature change in Â°C between 1990 and 1991",xaxis:{title:"Month"},yaxis:{title:"City"}};return Plotly.newPlot("vis",o,s)}c();
